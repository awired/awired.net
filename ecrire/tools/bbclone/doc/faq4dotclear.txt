Quelles sont les différences avec la version BBClone normale ?
Comment a été transformé BBClone pour devenir un plugin Dotclear ?
------------------------------------------------------------------

1) Editer les 4 fichiers "show_*" et enlever le include constants (tout en haut) ainsi que le echo (à la fin). Le contenu du echo sera en fait dupliqué dans le "index.php" du plugin.

2) Enlever $BBC_ROOT_PATH de constants.php :
   - Dans le tableau $vars ~= ligne 24
   - la où la variable est initialisée ~= ligne 38

3) ajouter à mark_page.php (tout en haut)
   $BBC_ROOT_PATH = defined("_BBCLONE_DIR") ? _BBCLONE_DIR : ""; 

4) Enlever quelques informations dans les Stats détaillées
   - enlever id (conf/config.php - $BBC_DETAILED_STAT_FIELDS)
   - enlever nom du pays (show_detailed.php - case ext)
   - enlever nom de l'OS (show_detailed.php - case os)
   - changer affichage du DNS (show_detailed.php - case dns)

5) - ajouter un style="display:block" aux images du graph
   - enlever les <br> près des images

6) Enlever la col "host" sur les stats globales (index.php)

7) Editer la localisation (language/fr.php)
   Extension -> Pays
   Système / SE -> OS

8) Ajout des fichiers spécifique à la version Dotclear :
   - index.php
   - functions.php
   - desc.xml
   - l10n/

9) Ajouter le patch pour ne pas casser les URLs

    
      
Les statistiques de BBClone ne sont pas en accord avec les chiffres
que j'ai pu voir jusqu'ici.
BBClone ne semble pas compter toutes les visites sur mon site.
-------------------------------------------------------------------

Par défaut, Dotclear active un mécanisme nommé le cache HTTP. Pour la bande passante c'est une très bonne chose mais pour compter les visiteurs c'est autre chose. Ainsi, grâce au cache HTTP, si votre visiteur va directement chercher votre page dans son cache navigateur, sa visite ne sera pas comptabilisée. Si cela vous gène vraiment ou si vous tenez à avoir des statistiques fiables, désactivez le cache HTTP de Dotclear.



Fatal error: Call to undefined function: sem_get()
in /var/www/free.fr/c/.../ecrire/tools/bbclone/lib/io.php on line 163
Je suis sur free.fr et ca ne marche pas !
---------------------------------------------------------------------

BBClone ne fonctionne plus sur free.fr. BBClone écrivant directement sur des fichiers plats, la fonction flock() lui permet de ne pas corrompre les données en éditant le fichier 2 fois en même temps. Cette fonction (ainsi que ses alternatives) n'est malheureusement plus disponible sur free.fr.
Si on voulait, on pourrait modifier le fichier lib/io.php, en enlevant le lock des fichiers, tout à la fin, il y'a beaucoup de chances que ca marche quasi parfaitement, en particulier sur des sites à faible traffic. Attention, c'est fortement déconseillé et nous ne supportons pas cette méthode.



Où sont stockées les statistiques ? 
Comment sauvegarder les statistiques ?
------------------------------------------------------

Les statistiques sont stockées dans des fichiers plats contenus dans le répertoire "var" du plugin.

Pour info :
- les fichiers "counter*.php" contiennent des données temporaires avant traitement
- le fichier "last.php" contient les statistiques détaillées des N derniers visiteurs
- le fichier "access.php" contient les statistiques globales depuis l'installation du plugin

Pour sauvegarder les stats, il suffit de sauvegarder ces fichiers. La sauvegarde des fichiers "counter" est quasi inutile, celle du fichier "last.php" n'est pas très importante. Si vous ne deviez en sauvegarder qu'un, choisissez  le fichier "access.php"

Pour ré-importer des fichiers sauvegardés, il suffit de les ré-uploader dans leur dossier d'origine ou leur équivalent (en cas de déménagement).



Comment mettre à jour vers une nouvelle version du plugin ?
------------------------------------------------------

A) A partir de la version "package" :
- Sauvegardez vos données (voir ci-dessus)
- Sauvegarder votre config (si vous l'avez customisé)
- Supprimez votre plugin (gestionnaire des plugins)
- Réinstallez le comme si c'était la première fois.
- Réuploadez vos fichiers sauvegardés.

B) A partir de la version "zip" :
- Ecrasez sans pitié tout les fichiers avec les nouvelles versions, 
excepté le répertoire "var"
- Si vous aviez customisé le fichier "conf/config.php" ré-editez le.



Pour telle raison, l'installation avec le package ne fonctionne pas !
------------------------------------------------------

- Utilisez la version Zip.
- Il faut l'uploader dans le répertoire "ecrire/tools/bbclone/"



On me dit "Ajoutez le code suivant à la fin de votre fichier template principal". C'est lequel le fichier template ?
------------------------------------------------------

Le fichier "template.php" stocké dans le répertoire du thème actuellement utilisé. S'il n'y a pas de fichiers template dans ce dossier, alors éditez celui se trouvant dans "themes/default/".
Pensez bien qu'en cas de changement ou d'upgrade des thèmes, il vous faudra sûrement réediter le template.



Est-il possible d'inclure d'autres pages que celles du blog
dans les statistiques de bbclone ?
-----------------------------------------------------------

Tout d'abord, les pages doivent tout d'abord être en php,
et ensuite il faut y glisser le code BBClone :

<?php
define("_BBC_PAGE_NAME", "NomDeTaPage");
define("_BBCLONE_DIR", "le/bon/path/ecrire/tools/bbclone/");
define("COUNTER", _BBCLONE_DIR."mark_page.php");
if (is_readable(COUNTER)) include_once(COUNTER);
?>